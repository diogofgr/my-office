<!doctype html>
<html>
  <head>
    <title>The Lisbon Office</title>
    <script src="https://aframe.io/releases/0.7.0/aframe.js"></script>
    <script src="color-manager.js"></script>
  </head>
  <body>
    <a-scene>
      <a-assets>
        <img id="ground" src="images/ground.jpg">
        <img id="wall" src="images/wall.png">
        <img id="door" src="images/wood-01.png">
        <img id="wooden-box" src="images/wood-02.jpg">
        <img id="8bit-space" src="images/8bit-space.jpg">
        <img id="insta360" src="images/insta360.png" width="100" height="100">
        <img id="sky" src="images/sunset-sky.jpg">
        <!-- models -->
        <a-asset-item id="camera-obj" src="models/camera.obj"></a-asset-item>
        <a-asset-item id="camera-mtl" src="models/camera.mtl"></a-asset-item>
        <a-asset-item id="vive-obj" src="models/vive.obj"></a-asset-item>
        <a-asset-item id="vive-mtl" src="models/vive.mtl"></a-asset-item>
        <a-asset-item id="cardboard-obj" src="models/cardboard.obj"></a-asset-item>
        <a-asset-item id="cardboard-mtl" src="models/cardboard.mtl"></a-asset-item>
        <a-asset-item id="laptop-obj" src="models/laptop.obj"></a-asset-item>
        <a-asset-item id="laptop-mtl" src="models/laptop.mtl"></a-asset-item>
      </a-assets>

      <!-- camera in perspective: -->
      <!-- <a-entity id='cameraWrapper' position="5 3 3" rotation="-45 45 0"> -->
      <a-entity id='cameraWrapper' position="0 0 0" rotation="0 0 0">
      <!-- change user-height to 0 to show correct height on mobile-->
        <a-camera user-height="1">
          <a-cursor></a-cursor>
        </a-camera>
      </a-entity>

      <!-- film noir intensity is 0.2 -->
      <a-entity
        id="room-light"
        light="type: point;
              intensity: 0.3;
              distance: 50;
              decay: 2;"
        position="0 2 0">
      </a-entity>

      <a-plane
        src="#ground"
        position="0 0 0"
        rotation="-90 0 0"
        width="4"
        height="8"
        color="#7BC8A4"
        material="roughness: 1; metalness: 0"
        shadow="receive: true">
      </a-plane>

      <a-entity id='wallsWrapper' position="0 2 0" rotation="0 0 0">
        <a-entity id='front-wall' position="0 0 -4" rotation="0 0 0">
          <!-- bottom  -->
          <a-plane src="#wall" position="0 -0.7 0" width="4.1" height="2.6"></a-plane>
          <!-- top -->
          <a-plane src="#wall" position="0 1.8 0" width="4.1" height="1"></a-plane>
          <!-- left -->
          <a-plane src="#wall" position="-1.5 1.25 0" width="1" height="2.5"></a-plane>
          <!-- right -->
          <a-plane src="#wall" position="1.75 1.25 0" width="0.5" height="2.5"></a-plane>

          <a-entity id='window' position="0.25 0.6 0" rotation="0 0 0">
            <a-entity id="window-light" position="0 1.5 -2"  rotation="-160 -5 0">
              <a-entity
                light="type: spot;
                      color: orange;
                      intensity: 1;
                      angle: 40;
                      decay: 1;
                      distance: 10;
                      penumbra: 0.9;">
              </a-entity>
            </a-entity>

            <!-- windowsill -->
            <a-entity geometry="primitive: box; width: 2.6; height: 0.05; depth: 0.1" material="color: white; roughness: 1; metalness: 0" position="0 0 0"></a-entity>
            <!-- left -->
            <a-entity geometry="primitive: box; width: 0.8; height: 0.05; depth: 0.3" material="color: white; roughness: 1; metalness: 0" position="-1.3 0.4 -0.16" rotation="0 0 90"></a-entity>
            <!-- right -->
            <a-entity geometry="primitive: box; width: 0.8; height: 0.05; depth: 0.3" material="color: white; roughness: 1; metalness: 0" position="1.3 0.4 -0.16" rotation="0 0 90"></a-entity>
            <!-- top -->
            <a-entity geometry="primitive: box; width: 2.6; height: 0.05; depth: 0.3" material="color: white; roughness: 1; metalness: 0" position="0 0.75 -0.16" rotation="0 0 0"></a-entity>
            <!-- glass -->
            <a-entity geometry="primitive: box; width: 4; height: 0.9; depth: 0.01" material="color: white; roughness: 0; metalness: 0; transparent: true; opacity: 0.4" position="0 0.3 -0.1"></a-entity>

          </a-entity>
        </a-entity>

        <a-plane src="#wall" position="-2 0 0" rotation="0 90 0" width="8" height="4" material="roughness: 1; metalness: 0"></a-plane>

        <a-entity id="right-wall" position="2 0 0" rotation="0 -90 0" >
          <a-plane src="#wall" width="8" height="4" material="roughness: 1; metalness: 0"></a-plane>
          <a-entity id="vive-table" position="0 -2 0">
            <!-- top of table -->
            <a-entity material="color: white; roughness: 1; metalness: 0" geometry="primitive: box; width: 1.2; height: 0.02; depth: 0.8" position="0 0.7 0.4">

              <a-entity position="-0.312 0.148 0">
                <!-- DSLR Camera - Portal to 360 videos -->
                <a-obj-model onClick="window.location.href='360videos.html'" rotation="0 -163 0" src="#camera-obj" mtl="#camera-mtl" scale="0.35 0.35 0.35" position="0 -0.035 0" material="">
                </a-obj-model>
                <a-entity
                  rotation="-90 0 0"
                  position="-0.05 -0.133 0.15"
                  geometry="primitive: plane; height: 0.2; width: 0.4"
                  material="color: white"
                  text="width: 2; value: Click ^; color: black; align: center">
                </a-entity>
                <a-entity
                  rotation="-90 0 0"
                  position="-0.05 -0.133 0.30"
                  geometry="primitive: plane; height: 0.2; width: 0.4"
                  material="color: white"
                  text="width: 2; value: Camera; color: black; align: center">
                </a-entity>
                <!-- laptop -->
                <a-obj-model position="-0.17 -0.147 -0.419" src="#laptop-obj" mtl="#laptop-mtl" rotation="0 38 0" scale="0.00035 0.00035 0.00035" material="">
                </a-obj-model>
                <!-- vive -->
                <a-obj-model position="0.384 -0.067 0.23" src="#vive-obj" mtl="#vive-mtl" rotation="11.21 -138 0" scale="0.25 0.25 0.25" material="">
                </a-obj-model>
              </a-entity>

              <!-- feet of table -->
              <a-entity material="color: white; roughness: 1; metalness: 0" geometry="primitive: box; width: 0.02; height: 0.75; depth: 0.06" position="0.58 -0.37 0.35"></a-entity>
              <a-entity material="color: white; roughness: 1; metalness: 0" geometry="primitive: box; width: 0.02; height: 0.75; depth: 0.06" position="0.58 -0.37 -0.35"></a-entity>
              <a-entity material="color: white; roughness: 1; metalness: 0" geometry="primitive: box; width: 0.02; height: 0.75; depth: 0.06" position="-0.58 -0.37 0.35"></a-entity>
              <a-entity material="color: white; roughness: 1; metalness: 0" geometry="primitive: box; width: 0.02; height: 0.75; depth: 0.06" position="-0.58 -0.37 -0.35"></a-entity>

            </a-entity>
          </a-entity>
        </a-entity>

        <a-plane src="#wall" position="0 2 0" rotation="90 0 0" width="4" height="8" material="roughness: 1; metalness: 0"></a-plane>

        <a-entity id='back-wall' position="0 0 4" rotation="0 180 0">
          <a-plane src="#wall" position="0 0 0" rotation="0 0 0" width="4" height="4"></a-plane>
          <a-plane src="#door" position="0 -1 0.01" height="2.1" width="1"></a-plane>
          <a-plane src="#door" position="0.6 -1 0.01" height="2.1" width="0.3"></a-plane>

          <a-entity material="src: wood-02.jpg;" geometry="primitive: box; width: 1.2; height: 0.5; depth: 0.8" position="-1.2 -1.8 0.5"></a-entity>
          <a-entity material="src: wood-02.jpg;" geometry="primitive: box; width: 1.2; height: 0.5; depth: 0.8" position="1.3 -1.8 0.5"></a-entity>
          <!-- ceiling concrete beam -->
          <a-entity geometry="primitive: box; width: 4.1; height: 1.4; depth: 0.3" material="src: wall.png;" position="0 1.4 1.2" rotation="0 0 0"></a-entity>
        </a-entity>
      </a-entity>

      <a-entity position="0 1 -3">
        <a-icosahedron
          color-manager
          color="black"
          rotation="0 0 30">
        </a-icosahedron>
        <a-animation
          attribute="rotation"
          dur="10000"
          direction="normal"
          fill="forwards"
          ease="linear"
          to="0 360 0"
          repeat="indefinite">
        </a-animation>

      </a-entity>

      <a-entity position="0 1 -1">
        <a-sphere
          btn-change-color
          color="red"
          radius="0.08">
        </a-sphere>
        <a-cone
          color="white"
          radius-bottom="0.1"
          radius-top="0.1"
          position="0 -1 0"
          height="2">
        </a-cone>
        <a-animation
          attribute="scale"
          dur="200"
          direction="alternate"
          fill="forwards"
          ease="linear"
          to="1 0.8 1"
          repeat="1"
          begin="squeezeanimation">
        </a-animation>
      </a-entity>

      <!-- Portal to Underworld -->
      <a-entity
        id="portal"
        position="-1.95 1 -0.2"
        rotation="0 90 0"
        scale="0.5 0.5 0.5">
        <a-link
          href="underworld.html"
          title="NOT AN EXIT"
          image="#8bit-space">
        </a-link>
        <a-animation
          attribute="position"
          dur="1000"
          direction="alternate"
          fill="forwards"
          ease="ease-in-out"
          to="-1.95 1.1 -0.2"
          repeat="indefinite">
        </a-animation>
      </a-entity>



      <a-sky src="#sky" phi-start="150"></a-sky>
    </a-scene>
  </body>
</html>

